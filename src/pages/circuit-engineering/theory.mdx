---
layout: ../../layouts/TheoryLayout.astro
title: Схемотехника устройств компьютерных систем
icon: processor
subheader: кафедра вычислительной техники
---

#### 1. Маршрут проектирования вычислителей в составе компьютерной системы. Маршрут проектирования устройств на базе ПЛИС.

Маршрут проектирования вычислителей в составе компьютерной системы и устройств на базе ПЛИС состоит из следующих этапов:

1. Системный этап: определение назначения и взаимосвязи частей проекта, выбор способа реализации и описания устройства.
2. Структурно-алгоритмический этап: итерационный ввод и верификация описаний параллельно функционирующих процессов, реализующих заданные алгоритмы.
3. Функционально-логический этап: разработка и верификация функциональных блоков и модулей, определение интерфейсов и реализация алгоритмов.
4. Конструкторско-технологический этап: выбор способа описания устройства (языки описания аппаратных средств, схемотехника, графический редактор, таблицы истинности и т. д.), размещение и трассировка элементов на кристалле ПЛИС.
5. Программирование и верификация: загрузка конфигурации в ПЛИС, проверка работоспособности и соответствия заданным требованиям.

#### 2. Аппаратные ресурсы ПЛИС. Предназначение и использование.

Аппаратные ресурсы ПЛИС (программируемых логических интегральных схем) включают:

1. Программируемые логические блоки (CLB) — основные элементы, состоящие из триггеров, регистров, мультиплексоров и других логических элементов. Они позволяют изменять коммутацию сигналов и логическую функцию.
2. Ячейки конфигурационной памяти (Static RAM) — обеспечивают хранение настроек и параметров схемы, позволяя реконфигурировать ПЛИС.
3. Аппаратные блоки умножения с накоплением (DSP) — выполняют операции умножения и сложения 18-битных чисел.
4. Блоки внутренней памяти (BRAM) — хранят данные и могут быть использованы для временного хранения результатов вычислений.

ПЛИС используются в различных устройствах, таких как потребительская электроника, телекоммуникационное оборудование, ускорители для дата-центров, робототехника и прототипирование микросхем ASIC. Они обеспечивают высокую производительность, минимальное время реакции и низкое энергопотребление благодаря способности обрабатывать данные в темпе их поступления.

#### 3. Целочисленная арифметика. Реализация на базе ПЛИС. DSP.

Целочисленная арифметика на базе ПЛИС и DSP используется для упрощения проектирования устройств и повышения точности результатов. Она применяется в различных задачах, где использование модулей с плавающей точкой нецелесообразно или приводит к усложнению устройств.

Для реализации целочисленной арифметики используются различные алгоритмы деления, такие как деление с восстановлением остатка *(Algorithm 1)* и деление без восстановления остатка *(Algorithm 2)*. Эти алгоритмы позволяют ускорить вычисление частичных остатков с помощью быстрых схем сложения, матричных схем сложения и алгоритма SRT.

Разработанные модули деления имеют одинаковый интерфейс, состоящий из входных шин операндов, выходной шины результата и шины управления. Значения разрядности каждой шины объявляются как параметры модуля, что позволяет полностью параметризировать код модуля.

##### Алгоритм 1. Деление с восстановлением остатка

1. Исходное значение частичного остатка (ЧО) полагается равным старшим разрядам делимого.
2. ЧО удваивается путем сдвига на один разряд влево. При этом в освобождающийся при сдвиге младший разряд ЧО заносится очередная цифра частного.
3. Из сдвинутого ЧО вычитается делитель и анализируется знак результата вычитания.
4. Очередная цифра модуля частного равна единице, когда результат вычитания положителен, и нулю, если отрицателен. В последнем случае значение остатка восстанавливается до того значения, которое было до вычитания.
5. Пункты 2-4 выполняются последовательно для получения всех цифр модуля частного.

##### Алгоритм 2. Деление без восстановления остатка

1. Исходное значение ЧО полагается равным старшим разрядам делимого.
2. Частичный остаток удваивается путем сдвига на один разряд влево. При этом в освобождающийся при сдвиге младший разряд ЧО заносится очередная цифра частного.
3. Из сдвинутого ЧО вычитается делитель, если остаток положителен, и к сдвинутому частичному остатку прибавляется делитель, если остаток отрицателен.
4. Очередная цифра модуля частного равна единице, когда результат вычитания положителен, и нулю, если он отрицателен.
5. Пункты 2-4 выполняются последовательно для получения всех цифр модуля частного.

#### 4. Арифметика с плавающей точкой. Стандарт IEEE754. Реализация на базе ПЛИС.

Арифметика с плавающей точкой использует стандарт IEEE 754 для представления чисел. Этот стандарт определяет 32-битные числа с плавающей точкой (тип float). Основные преимущества чисел в формате float включают широкий диапазон возможных значений и высокую точность вычислений. Однако у этого формата есть и недостатки, такие как округление больших чисел и потеря точности при суммировании чисел, отличающихся во много раз.

Для реализации арифметики с плавающей точкой на базе ПЛИС существуют готовые SOFT IP-ядра от производителей Xilinx и Altera, которые реализуют формат IEEE 754. В основе этих ядер лежат универсальные блоки цифровой обработки и математики, такие как DSP48E1 и DSP48E2 от Xilinx. Также используются блочная память (например, RAMB36E1) и базовые математические операции (сложение, вычитание и умножение).

#### 5. Основы статического временного анализа. Анализ по Setup.

Статический временной анализ проводится для проверки ограничений на максимальное и минимальное время распространения данных между регистрами внутри синхронного устройства. 

Анализ по Setup (анализ максимального времени распространения) выполняется для самого пессимистичного случая, когда запускающий фронт появляется на ножке FPGA с задержкой, данные распространяются максимально долго, а защелкивающий фронт приходит с минимальной задержкой.

#### 6. Основы статического временного анализа. Анализ по Hold.

Анализ по Hold в статическом временном анализе проверяет соблюдение условий, при которых данные на входе триггера не изменяются до прихода фронта тактового сигнала. Это гарантирует, что переходные процессы на входе триггера завершатся до прихода следующего тактового импульса.

Анализ по Hold учитывает время удержания (Hold) — минимальное время от момента прихода фронта тактового сигнала до начала новых переходных процессов на входе данных триггера.

#### 7. Верификация. Testbench. Принципы тестирования.

**Верификация** — это процесс проверки правильности работы системы или компонента путём сравнения ожидаемых результатов с фактическими. 

**Testbench** — это инструмент для создания тестовых сценариев и проведения функционального тестирования. Принципы тестирования включают:

- Планирование: определение целей, задач и этапов верификации, разработка плана тестирования.
- Разработка testbench: создание среды для тестирования, предоставление входных данных и контроль выходных результатов.
- Создание тестов: разработка тестовых сценариев на основе требований и спецификаций.
- Выполнение тестов: проведение тестирования согласно разработанным сценариям.
- Анализ результатов: сравнение ожидаемых и фактических результатов, выявление несоответствий и ошибок.
- Исправление ошибок: внесение изменений в систему или testbench для устранения обнаруженных проблем.
- Повторение процесса: повторение этапов верификации до достижения требуемой степени достоверности результатов.

#### 8. Верификация. Инструменты САПР для верификации. Tasks и Functions.

Верификация в САПР включает использование инструментов для проверки правильности созданных траекторий и обработки заготовок. Вот некоторые инструменты и функции, используемые в верификации:

1. Задачи (Tasks) — это отдельные операции, состоящие из последовательности действий, таких как перемещение инструмента, обработка материала и т. д.
2. Функции (Functions) — это алгоритмы, выполняющие определённые задачи, например, вращение заготовки, масштабирование и перемещение по экрану.

Верификаторы современных CAD/CAM систем имеют режимы работы и настройки, позволяющие проводить проверку качества верификации и предотвращать возможные проблемы, такие как зарезы и столкновения инструмента с заготовкой.

#### 9. Язык TCL в САПР. Особенности использования, варианты применения, автоматизация.

**TCL (Tool Command Language)** — скриптовый язык высокого уровня для исполнения различных задач. Зачастую TCL применяется в связке с графической оболочкой _Tk (Tool Kit)_. Язык находит широкое применение в различных задачах автоматизации процессов:

- Тестирование комплексных модулей, узлов, частей кода;
- Скоростное прототипирование;
- Создание графических интерфейсов для консольных приложений;
- Внедрение в прикладные приложения и задачи.

Все программы на языке TCL состоят из **команд**, которые разделяются символом **";"** или символом начала новой строки. Как и во многих других языках программирования, первое слово — команда, остальные слова — аргументы команд.

Например:

```tcl
set NewValue "Hello World";
puts $NewValue
```

#### 10. Подходы к размещению проектов. Файлы проектных ограничений.

🆘
